<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Hệ thống thi trực tuyến</title>
    <link rel="icon" type="image/png" href="/image/T-smart.png" />
    <!-- Bootstrap CSS -->
    <link
      type="text/css"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- ICON -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <!-- Custom CSS -->
    <link type="text/css" rel="stylesheet" href="/styles/reset.css" />
    <link type="text/css" rel="stylesheet" href="/styles/clients/exam.css" />
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container">
        <a class="navbar-brand d-flex align-items-center" href="#">
          <img
            class="logoTs me-2"
            src="/image/T-smart.png"
            alt="Tsmart Logo"
            width="40"
          />
          T-Smart
        </a>
        <p class="header-title text-white ms-auto me-auto">
          Hệ thống làm bài thi trực tuyến
        </p>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div
          class="collapse navbar-collapse justify-content-end"
          id="navbarNav"
        >
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link active" href="#"
                ><i class="fas fa-home"></i> Trang chủ</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#"
                ><i class="fas fa-book"></i> Danh sách đề</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#"
                ><i class="fas fa-clock"></i> Lịch sử làm bài</a
              >
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <div class="container my-5">
      <!-- Card Tìm kiếm -->
      <div class="card shadow p-4 mb-4">
        <h5 class="card-title">Tìm kiếm đề thi</h5>
        <form class="row g-3 align-items-center">
          <div class="col-md-9">
            <input
              type="text"
              class="form-control"
              id="searchExamCode"
              placeholder="Nhập mã đề"
            />
          </div>
          <div class="col-md-3 d-grid">
            <button type="button" class="btn btn-primary" id="searchButton">
              <i class="fas fa-search"></i> Tìm kiếm
            </button>
          </div>
        </form>
      </div>
      <!-- End Card -->

      <!-- Bảng danh sách đề thi -->
      <div class="table-responsive">
        <table class="table table-striped table-hover">
          <thead class="table-dark">
            <tr>
              <th class="text-center" style="width: 15%">Mã đề</th>
              <th class="text-center" style="width: 35%">Tên bài</th>
              <th class="text-center" style="width: 25%">Ngày tạo</th>
              <th class="text-center" style="width: 25%">Trạng thái</th>
            </tr>
          </thead>
          <tbody id="examTableBody"></tbody>
        </table>
      </div>
      <!-- End Bảng -->

      <!-- Pagination -->
      <nav aria-label="Page navigation example">
        <ul class="pagination justify-content-center" id="pagination"></ul>
      </nav>
    </div>

    <!-- Footer -->
    <footer class="text-center py-4 bg-light">
      <div class="container">
        <p class="mb-0">
          Copyright &copy;
          <script>
            document.write(new Date().getFullYear());
          </script>
          T-Smart - Hệ thống thi trực tuyến
        </p>
      </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      const examData = [
        {
          code: "ABC123",
          name: "Bài kiểm tra A",
          date: "12/12/2024",
          status: "Đang mở",
        },
        {
          code: "ABC456",
          name: "Bài kiểm tra B",
          date: "13/12/2024",
          status: "Đã đóng",
        },
        {
          code: "ABC789",
          name: "Bài kiểm tra C",
          date: "14/12/2024",
          status: "Đang mở",
        },
        {
          code: "DEF123",
          name: "Bài kiểm tra D",
          date: "15/12/2024",
          status: "Đã đóng",
        },
        {
          code: "DEF456",
          name: "Bài kiểm tra E",
          date: "16/12/2024",
          status: "Đang mở",
        },
        {
          code: "ABC789",
          name: "Bài kiểm tra C",
          date: "14/12/2024",
          status: "Đang mở",
        },
        {
          code: "DEF123",
          name: "Bài kiểm tra D",
          date: "15/12/2024",
          status: "Đã đóng",
        },
        {
          code: "DEF456",
          name: "Bài kiểm tra E",
          date: "16/12/2024",
          status: "Đang mở",
        },
        {
          code: "ABC789",
          name: "Bài kiểm tra C",
          date: "14/12/2024",
          status: "Đang mở",
        },
        {
          code: "DEF123",
          name: "Bài kiểm tra D",
          date: "15/12/2024",
          status: "Đã đóng",
        },
        {
          code: "DEF456",
          name: "Bài kiểm tra E",
          date: "16/12/2024",
          status: "Đang mở",
        },
        {
          code: "ABC789",
          name: "Bài kiểm tra C",
          date: "14/12/2024",
          status: "Đang mở",
        },
        {
          code: "DEF123",
          name: "Bài kiểm tra D",
          date: "15/12/2024",
          status: "Đã đóng",
        },
        {
          code: "DEF456",
          name: "Bài kiểm tra E",
          date: "16/12/2024",
          status: "Đang mở",
        },
        {
          code: "ABC789",
          name: "Bài kiểm tra C",
          date: "14/12/2024",
          status: "Đang mở",
        },
        {
          code: "DEF123",
          name: "Bài kiểm tra D",
          date: "15/12/2024",
          status: "Đã đóng",
        },
        {
          code: "DEF456",
          name: "Bài kiểm tra E",
          date: "16/12/2024",
          status: "Đang mở",
        },
        {
          code: "ABC789",
          name: "Bài kiểm tra C",
          date: "14/12/2024",
          status: "Đang mở",
        },
        {
          code: "DEF123",
          name: "Bài kiểm tra D",
          date: "15/12/2024",
          status: "Đã đóng",
        },
        {
          code: "DEF456",
          name: "Bài kiểm tra E",
          date: "16/12/2024",
          status: "Đang mở",
        },
        {
          code: "ABC789",
          name: "Bài kiểm tra C",
          date: "14/12/2024",
          status: "Đang mở",
        },
        {
          code: "DEF123",
          name: "Bài kiểm tra D",
          date: "15/12/2024",
          status: "Đã đóng",
        },
        {
          code: "DEF456",
          name: "Bài kiểm tra E",
          date: "16/12/2024",
          status: "Đang mở",
        },
        {
          code: "ABC789",
          name: "Bài kiểm tra C",
          date: "14/12/2024",
          status: "Đang mở",
        },
        {
          code: "DEF123",
          name: "Bài kiểm tra D",
          date: "15/12/2024",
          status: "Đã đóng",
        },
        {
          code: "DEF456",
          name: "Bài kiểm tra E",
          date: "16/12/2024",
          status: "Đang mở",
        },
      ];

      const ITEMS_PER_PAGE = 2;
      let currentPage = 1;

      const searchInput = document.getElementById("searchExamCode");
      const searchButton = document.getElementById("searchButton");
      const examTableBody = document.getElementById("examTableBody");
      const pagination = document.getElementById("pagination");

      function renderTable(data) {
        examTableBody.innerHTML = data
          .map(
            (item) => `
              <tr>
                <td class="text-center fw-bold">${item.code}</td>
                <td class="text-center">${item.name}</td>
                <td class="text-center">${item.date}</td>
                <td class="text-center">
                  <span class="badge ${item.status === "Đang mở" ? "bg-success" : "bg-secondary"}">
                    ${item.status}
                  </span>
                </td>
              </tr>`
          )
          .join("");
      }

      function renderPagination(totalItems) {
        const totalPages = Math.ceil(totalItems / ITEMS_PER_PAGE);
        pagination.innerHTML = "";

        for (let i = 1; i <= totalPages; i++) {
          const pageItem = document.createElement("li");
          pageItem.className = "page-item";
          if (i === currentPage) pageItem.classList.add("active");

          pageItem.innerHTML = `<a class="page-link" href="#">${i}</a>`;
          pageItem.addEventListener("click", (e) => {
            e.preventDefault();
            currentPage = i;
            updateTable();
          });

          pagination.appendChild(pageItem);
        }
      }

      function updateTable() {
        const start = (currentPage - 1) * ITEMS_PER_PAGE;
        const end = start + ITEMS_PER_PAGE;
        const currentData = examData.slice(start, end);
        renderTable(currentData);
        renderPagination(examData.length);
      }

      searchButton.addEventListener("click", () => {
        const keyword = searchInput.value.trim().toUpperCase();
        if (!keyword) {
          updateTable();
          return;
        }
        const filtered = examData.filter((item) => item.code.includes(keyword));
        renderTable(filtered);
        renderPagination(filtered.length);
      });

      updateTable();
    </script>
  </body>
</html>
