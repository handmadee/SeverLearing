<%- include('./../comon/header') %>
<link type="text/css" rel="stylesheet" href="/styles/clients/exam.css" />

<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-md-9 col-lg-8">
      <div id="alertContainer"></div>
      <div class="card shadow-lg border-0">
        <div class="card-header bg-success text-white text-center">
          <h3 class="mb-0">Thông Tin Bài Thi</h3>
        </div>
        <div class="card-body">
          <div class="alert alert-warning text-center">
            <i class="bi bi-exclamation-circle me-2"></i>
            <strong>Lưu ý:</strong> Hãy đảm bảo nhập đúng thông tin mã đề và mã
            số học sinh.
          </div>
          <form id="examForm">
            <!-- Exam Code -->
            <div class="form-group mb-4">
              <label for="examCode" class="form-label">Mã đề thi</label>
              <input
                type="text"
                class="form-control form-control-lg"
                id="examCode"
                value="<%=examId  %>"
                placeholder="Nhập mã đề thi"
                required
              />
            </div>

            <!-- Student Code -->
            <div class="form-group mb-4">
              <label for="studentCode" class="form-label">Mã số học sinh</label>
              <input
                type="text"
                class="form-control form-control-lg"
                id="studentCode"
                placeholder="Nhập mã số học sinh"
                required
              />
            </div>

            <!-- Submit Button -->
            <div class="text-center">
              <button type="submit" class="btn btn-success btn-lg w-100">
                Bắt đầu thi
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  <!-- Modal Xác Nhận Bắt Đầu Thi -->
  <div
    class="modal fade"
    id="confirmStartExamModal"
    tabindex="-1"
    aria-labelledby="confirmStartExamModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header bg-success text-white">
          <h5 class="modal-title" id="confirmStartExamModalLabel">
            Xác Nhận Bắt Đầu Thi
          </h5>
          <button
            type="button"
            id="close"
            class="btn-close btn-close-white"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <div class="alert alert-info text-center">
            <i class="bi bi-exclamation-circle me-2"></i>
            <strong>Xác nhận:</strong>
            Xin hãy kiểm tra lại thông tin và nhấn "Bắt đầu" để bắt đầu làm bài
            thi. Chúc bạn đạt kết quả tốt!
          </div>
          <p>
            <strong>Tên Học Sinh:</strong>

            <span id="studentName"></span>
          </p>
          <p><strong>Tên Bài Kiểm Tra:</strong> <span id="examName"></span></p>
          <p>
            <strong>Thời Gian Làm Bài:</strong>
            <span id="examDuration"></span> phút
          </p>
          <p>
            <strong>Số Câu Hỏi:</strong> <span id="examQuestions"></span> câu
          </p>
          <p>Bạn có chắc chắn muốn bắt đầu bài thi?</p>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
            id="cancelButton"
          >
            Hủy
          </button>
          <button type="button" class="btn btn-success" id="confirmStartButton">
            Bắt đầu
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<script type="module" src="/JS/clients/exam/services/startExam.js"></script>
<%- include('./../comon/footer') %>

<style>
  body {
    background-color: #f8f9fa;
  }

  .card {
    border-radius: 10px;
  }

  .form-label {
    font-weight: 500;
  }

  .form-control {
    border: 2px solid #ced4da;
    transition: border-color 0.3s ease;
  }

  .form-control:focus {
    border-color: #28a745;
    box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);
  }

  .btn-success {
    background-color: #28a745;
    border-color: #28a745;
  }

  .btn-success:hover {
    background-color: #218838;
    border-color: #1e7e34;
  }
  .show {
    display: block;
  }
  .modal-header {
    border-bottom: none;
  }

  .modal-footer {
    border-top: none;
  }
  .modal .modal-body p {
    margin-bottom: 15px;
  }
  .modal .modal-body p strong {
    font-weight: bold;
  }

  .modal-dialog {
    max-width: 45vw !important;
  }

  #examDuration {
    color: red;
    font-weight: bold;
  }

  #examQuestions {
    color: red;
    font-weight: bold;
  }
</style>
